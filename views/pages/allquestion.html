<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Meta Tags for All Questions Page -->
    <title>All Questions | Maula Ali Research Center</title>
    <meta name="keywords" content="Maula Ali Research Centre, Islamic Questions, Fatwa, Islamic Rulings, Ask Scholars, Urdu Fatwa, All Questions">
    <meta name="description" content="Browse all Islamic questions and fatwas on Maula Ali Research Centre. Search, filter, and explore Islamic knowledge.">
    <meta name="robots" content="index, follow">
    <!-- <link rel="canonical" href="https://minaramasjid.com/all-faq"> -->
    
    <meta property="og:title" content="All Questions | Maula Ali Research Center">
    <meta property="og:description" content="Browse all Islamic questions and fatwas on Maula Ali Research Centre.">
    <meta property="og:image" content="https://placehold.co/1200x630/6a8a4f/white?text=All+Questions&font=roboto">
    <!-- <meta property="og:url" content="https://minaramasjid.com/all-faq"> -->
    <meta property="og:type" content="website">
    
    <meta name="twitter:title" content="All Questions | Maula Ali Research Center">
    <meta property="og:description" content="Browse all Islamic questions and fatwas on Maula Ali Research Centre.">
    <meta name="twitter:image" content="https://placehold.co/1200x630/6a8a4f/white?text=All+Questions&font=roboto">
    <meta name="twitter:card" content="summary_large_image">
    
    
    <!-- Base Href (Preserved) -->
    <base href="https://demo.minaramasjid.com/">
    
    <link rel="icon" href="https://minaramasjid.com/assets/image/logo/favicon.ico" type="image/x-icon">

    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Fonts (Roboto Flex and Gulzar) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Flex:opsz,wght@8..144,400;8..144,500;8..144,700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Gulzar&display=swap" rel="stylesheet">

    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css" />
    
    <!-- Bootstrap Icons (for new controls) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.11.3/font/bootstrap-icons.min.css" />

    <style>
        /* Define new custom font for Urdu */
        @font-face {
            font-family: 'NaatFont';
            src: url('https://res.cloudinary.com/awescreative/raw/upload/v1749150996/Awes/naatfont.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }

        /* Set default font */
        body {
            font-family: "Roboto Flex", sans-serif;
            background-color: #f0f5e9;
        }

        /* Custom styles from original page */
        .rtl {
            direction: rtl;
        }
        .rounded-4xl {
            border-radius: 2rem; /* 32px */
        }
        .mobile-menu-hidden {
            max-height: 0;
            opacity: 0;
            transition: max-height 0.3s ease-out, opacity 0.2s ease-out;
            overflow: hidden;
        }
        .mobile-menu-visible {
            max-height: 500px;
            opacity: 1;
            transition: max-height 0.4s ease-in, opacity 0.3s ease-in;
        }

        /* Apply new font to Urdu specific elements */
        .gulzartext, .heading {
            font-family: 'NaatFont', 'Gulzar', serif;
        }
        
        /* New Layout Grid for Sidebar and Main Content */
        .qa-layout-grid {
            display: grid;
            gap: 2rem;
            grid-template-columns: 1fr; /* Default: 1 column on mobile */
            max-width: 75rem; /* Wider container for 2-column layout */
            margin: 0 auto;
            padding-left: 1rem;
            padding-right: 1rem;
        }
        @media (min-width: 1024px) { /* lg breakpoint */
            .qa-layout-grid {
                /* Defines 1fr (left, main content) and 18rem (right, sidebar) in LTR reading direction.
                   Since dir="rtl", 1fr is the main area on the left, 18rem is the sidebar on the right. */
                grid-template-columns: 1fr 18rem; 
                padding-left: 0;
                padding-right: 0;
            }
            /* Explicitly place Main Content into the wider left column (Column 1 in RTL flow) */
            .page-container {
                grid-column: 1 / 2; 
            }
            /* Explicitly place Sidebar into the narrower right column (Column 2 in RTL flow) */
            #sidebar {
                grid-column: 2 / 3;
            }
        }

        /* Existing page-container needs margin/width removed for new grid */
        .page-container {
            max-width: none; /* Remove max-width */
            margin-left: 0;
            margin-right: 0;
            padding-top: 0;
        }
        
        /* Sidebar specific styles */
        #sidebar {
            background-color: white;
            padding: 1.5rem;
            border-radius: 1.5rem;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            border: 1px solid #e5e7eb;
            /* Make the sidebar sticky on desktop */
            position: sticky;
            top: 6rem; /* Adjust based on header height */
            align-self: flex-start; /* Important for sticky items in flex/grid */
            min-height: min-content;
        }

        .sidebar-heading {
            color: #4a7031;
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #e8f0e0;
            text-align: right;
        }
        
        .tag-list-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0.25rem;
            border-radius: 0.5rem;
            transition: background-color 0.2s;
            cursor: pointer;
            font-size: 1.1rem;
            text-align: right;
        }
        .tag-list-item:hover {
            background-color: #f3f4f6;
            color: #4a7031;
        }
        .tag-count {
            background-color: #eaf3df;
            color: #4a7031;
            padding: 0.1rem 0.6rem;
            border-radius: 9999px;
            font-size: 0.9rem;
            font-weight: 500;
            flex-shrink: 0;
        }
        
        /* New: Hide combobox on large screens where sidebar is present */
        @media (min-width: 1024px) {
            .tag-combobox {
                display: none;
            }
        }
        @media (max-width: 1023px) {
            #sidebar {
                display: none; /* Hide sidebar on mobile/tablet */
            }
        }
        
        /* === NEW CONTROLS DESIGN === */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            padding: 1.25rem;
            background-color: #f9fafb; /* bg-gray-50 */
            border-radius: 1.25rem; /* rounded-2xl */
            margin-bottom: 2rem;
            border: 1px solid #f3f4f6; /* bg-gray-100 */
            box-shadow: 0 4px 12px rgba(0,0,0,0.03);
        }
        @media (min-width: 768px) {
            .controls {
                flex-direction: row;
                flex-wrap: wrap;
                align-items: center;
            }
        }
        
        .control {
            display: flex;
            align-items: center;
            flex-grow: 1;
            position: relative; /* For tagbox panel */
        }

        /* New wrapper for all inputs */
        .control-input-wrapper {
            display: flex;
            align-items: center;
            gap: 0.5rem; /* Space between icon and text/input */
            width: 100%;
            background-color: white;
            border: 1px solid #e5e7eb; /* border-gray-200 */
            border-radius: 0.75rem; /* rounded-lg */
            padding: 0 0.75rem; /* Padding for icons on both sides */
            transition: all 0.2s ease-in-out;
            box-shadow: 0 1px 2px rgba(0,0,0,0.03);
        }
        .control-input-wrapper:focus-within,
        .control-input-wrapper.tag-button:focus {
            border-color: #4a7031;
            box-shadow: 0 0 0 3px #e8f0e0; /* Lighter ring */
        }
        
        /* Style for icons inside the wrapper */
        .control-input-wrapper i {
            color: #6b7280; /* text-gray-500 */
            flex-shrink: 0;
            font-size: 1.1rem;
            /* Fix for chevron */
        }
        .control-input-wrapper .bi-chevron-down {
             font-size: 1rem;
        }
        
        /* Reset for search input */
        #searchInput {
            border: none;
            outline: none;
            background-color: transparent;
            width: 100%;
            padding: 0.6rem 0.5rem 0.6rem 0.2rem; /* RTL padding */
            font-size: 1rem;
            font-family: 'NaatFont', 'Gulzar', serif;
            color: #374151;
        }
        #searchInput::placeholder {
             color: #9ca3af;
        }
        
        /* Reset for select pill */
        select.pill {
            border: none;
            outline: none;
            background-color: transparent;
            width: 100%;
            padding: 0.6rem 0.5rem 0.6rem 0.2rem; /* RTL padding */
            font-size: 1rem;
            font-family: 'NaatFont', 'Gulzar', serif;
            color: #374151;
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            /* SVG arrow */
            background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20' fill='none' stroke='%239ca3af' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpath d='M7 7l3-3 3 3m0 6l-3 3-3-3'/%3e%3c/svg%3e");
            background-position: left 0.75rem center; /* Moved arrow to left for RTL */
            background-repeat: no-repeat;
            background-size: 1.25em 1.25em;
        }
        
        /* Style for tag button (which is also a wrapper) */
        .tag-button {
            cursor: pointer;
            padding-top: 0.6rem;
            padding-bottom: 0.6rem;
            /* It already has .control-input-wrapper styles */
        }
        .tag-button:hover {
             background-color: #f9fafb; /* hover:bg-gray-50 */
        }
        .tag-button #tagButtonLabel {
            font-size: 1rem;
            font-family: 'NaatFont', 'Gulzar', serif;
            color: #374151; /* text-gray-700 */
            flex-grow: 1;
            text-align: right; /* RTL */
        }

        /* --- Responsive Layout for Controls (KEEP) --- */
        
        /* Tablet (md) layout: balanced grow for all 3 controls */
        @media (min-width: 768px) {
            .control {
                flex-grow: 1;
                flex-shrink: 1;
                flex-basis: 0; /* Allows flex-grow to work properly */
                min-width: 180px; /* Prevent controls from becoming too small */
            }
            .control.search-control {
                min-width: 240px; /* Allow search to be a bit wider */
            }
        }
        
        /* Desktop (lg) layout: Search grows, sort is fixed, tag is hidden */
        @media (min-width: 1024px) {
            .control {
                /* Reset basis to auto before setting specific ones */
                flex-basis: auto;
            }
            .control.search-control {
                flex-grow: 1; /* Explicitly set search to grow */
                flex-basis: 300px; /* Give it a larger basis */
                min-width: 300px;
            }
            .control-sort {
                flex-grow: 0; /* Stop sort from growing */
                flex-basis: 200px; /* Fix its basis */
                min-width: 200px;
            }
        }
        
        /* --- New Tag Panel Design --- */
        .tag-panel {
            /* Kept old layout properties */
            position: absolute;
            top: 100%;
            right: 0;
            margin-top: 0.25rem;
            z-index: 20;
            width: 16rem; /* w-64 */
            overflow: hidden;
            /* New Style */
            background-color: white;
            border: 1px solid #e5e7eb; /* border-gray-200 */
            border-radius: 0.75rem; /* rounded-xl */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); /* shadow-lg */
            font-family: 'NaatFont', 'Gulzar', serif;
        }
        .tag-panel .inner {
            max-height: 18rem; /* max-h-72 */
            overflow-y: auto;
        }
        .tag-search {
            width: 100%;
            border: none;
            border-bottom: 1px solid #e5e7eb;
            position: sticky;
            top: 0;
            padding: 0.75rem 1rem;
            font-family: 'NaatFont', 'Gulzar', serif;
            font-size: 1rem;
            background-color: #f9fafb; /* bg-gray-50 */
        }
        .tag-search:focus {
            box-shadow: none;
            border-color: #4a7031;
            background-color: white;
        }
        .tag-option {
            padding: 0.75rem 1rem; /* More padding */
            cursor: pointer;
            text-align: right;
            font-size: 1.1rem; /* Slightly smaller */
            transition: all 0.15s ease-out;
            display: flex; /* Added */
            justify-content: space-between; /* Added */
            align-items: center; /* Added */
        }
        .tag-option:hover {
            background-color: #e8f0e0;
        }
        .tag-option[aria-selected="true"] {
            font-weight: 700;
            background-color: #eaf3df;
            color: #4a7031;
        }
        /* === END OF NEW CONTROLS DESIGN === */

        .list {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem; /* gap-4 */
        }
        
        .card-link {
            display: block;
            background-color: white;
            padding: 1.25rem; /* p-5 */
            border-radius: 1.25rem; /* rounded-2xl */
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s ease-in-out;
            border: 1px solid white; /* Lighter border */
        }
        .card-link:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 28px -5px rgba(0,0,0,0.08), 0 8px 10px -6px rgba(0,0,0,0.05);
            border-color: #e8f0e0;
        }
        .card-link h3 {
             transition: color 0.3s;
             font-size: 1.5rem; /* Larger title */
             font-weight: 700; /* Bolder title */
             color: #1f2937; /* text-gray-800 */
        }
        .card-link:hover h3 {
             color: #4a7031;
        }
        .card-excerpt {
            font-size: 1.1rem; /* Slightly smaller excerpt */
            color: #374151; /* text-gray-700 */
            line-height: 1.7;
            /* Now handled by line-clamp utility in HTML */
        }

        /* Card number colors */
        .bg-midnight_green {
            background-color: #4a7031;
        }
        .bg-air_force_blue {
            background-color: #718e56;
        }

        .pagination {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 0.5rem;
            margin-top: 2.5rem;
            font-family: 'NaatFont', 'Gulzar', serif;
        }
        .page-btn {
            padding: 0.4rem 1rem;
            border-radius: 9999px; /* rounded-full */
            font-size: 1.125rem;
            font-weight: 600;
            border: 1px solid #d1d5db;
            transition: all 0.2s;
            background-color: white;
            color: #374151;
        }
        .page-btn:hover:not(:disabled) {
            background-color: #e8f0e0;
            border-color: #c1d9a3;
        }
        .page-btn.active {
            background-color: #4a7031;
            color: white;
            border-color: #4a7031;
        }
        .page-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background-color: #f3f4f6;
        }
        .hidden {
            display: none;
        }
    </style>
</head>
<body class="bg-[#f0f5e9] text-gray-800 antialiased">

    <!-- Main Wrapper -->
    <div class="min-h-screen z-10">
        <!-- Background Image Overlay -->
        <div class="absolute inset-0 bg-cover bg-no-repeat opacity-70" style="background-image: url('/assets/bg-DgzunbF9.png'); background-position: center center; z-index: -1;"></div>

        <!-- Header (Fixed) -->
        <header class="bg-[#718e56] sticky top-0 z-50 shadow-md border-b border-green-100">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="flex justify-between items-center py-3 relative"> <!-- Compacted header -->
                    <!-- Desktop Nav Left -->
                    <nav class="hidden md:flex gap-5 text-md font-semibold text-white tracking-wide"> <!-- Compacted gap -->
                        <a href="index.html" class="hover:text-green-100 transition-colors">Home</a>
                        <a href="about.html" class="hover:text-green-100 transition-colors">About</a>
                        <a href="events.html" class="hover:text-green-100 transition-colors">News & Event</a>
                        <a href="books.html" class="hover:text-green-100 transition-colors">Books</a>
                    </nav>

                    <!-- Center Logo -->
                    <div class="absolute left-1/2 transform -translate-x-1/2 -bottom-7 bg-white rounded-full p-1 shadow-lg border border-green-100 z-10">
                        <a href="index.html">
                            <img src="https://minaramasjid.com/assets/image/logo/marc.png" alt="Logo" class="w-16 h-16 rounded-full object-contain">
                        </a>
                    </div>

                    <!-- Desktop Nav Right -->
                    <nav class="hidden md:flex gap-5 text-md font-semibold text-white tracking-wide"> <!-- Compacted gap -->
                        <a href="articles.html" class="hover:text-green-100 transition-colors">Articles</a>
                        <a href="all-questions.html" class="text-white font-bold" aria-current="page">Question Answer</a>
                        <a href="book-request.html" class="hover:text-green-100 transition-colors">Request a Book</a>
                        <a href="contact.html" class="hover:text-green-100 transition-colors">Contact</a>
                    </nav>

                    <!-- Mobile Logo (hidden) -->
                    <div class="md:hidden flex-1">
                        <!-- This space is taken by the mobile menu button -->
                    </div>
                     <div class="md:hidden flex-1 flex justify-center">
                         <a href="index.html">
                             <img src="https://minaramasjid.com/assets/image/logo/marc.png" alt="Logo" class="w-12 h-12 rounded-full object-contain">
                         </a>
                     </div>

                    <!-- Mobile Menu Button -->
                    <div class="md:hidden flex-1 flex justify-end">
                        <button id="mobile-menu-toggle" class="text-white focus:outline-none">
                            <i class="fas fa-bars w-7 h-7"></i>
                        </button>
                    </div>
                </div>
                
                <!-- Mobile Menu Dropdown -->
                <div id="mobile-menu" class="md:hidden mobile-menu-hidden">
                    <div class="flex flex-col gap-2 py-3 px-2 text-white bg-[#5a7544] rounded-b-xl"> <!-- Compacted -->
                        <a href="index.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">Home</a>
                        <a href="about.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">About</a>
                        <a href="events.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">News & Event</a>
                        <a href="books.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">Books</a>
                        <a href="articles.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">Articles</a>
                        <a href="all-questions.html" class="bg-[#4f6639] px-4 py-2 rounded" aria-current="page">Question Answer</a>
                        <a href="book-request.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">Request a Book</a>
                        <a href="contact.html" class="hover:bg-[#4f6639] px-4 py-2 rounded">Contact</a>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="relative z-10 pt-12 sm:pt-16"> <!-- Compacted pt -->
            
            <!-- === ALL QUESTIONS CONTENT === -->
            <section class="relative max-w-7xl mx-auto py-8" dir="rtl">

                <h1 class="heading text-3xl lg:text-4xl font-bold text-[#4a7031] mb-6 text-center gulzartext">تمام فتاویٰ</h1>
                
                <!-- NEW: Grid Layout Wrapper -->
                <div class="qa-layout-grid">
                    
                    <!-- 1. MAIN CONTENT AREA (Left, wider column) -->
                    <div class="page-container gulzartext">
                        
                        <div class="controls">
                            <div class="control search-control">
                                <label for="searchInput" class="sr-only">تلاش:</label>
                                <div class="control-input-wrapper"> <!-- NEW WRAPPER -->
                                    <input id="searchInput" type="text" placeholder="عنوان یا سوال لکھیں…" spellcheck="false">
                                    <i class="bi bi-search search-icon"></i>
                                </div>
                            </div>
                            
                            <div class="control control-sort">
                                <label for="sortMode" class="sr-only">ترتیب:</label>
                                <!-- New wrapper for icon -->
                                <div class="control-input-wrapper"> <!-- REPLACED old wrapper -->
                                    <i class="bi bi-arrow-down-up control-icon"></i>
                                    <select id="sortMode" class="pill">
                                        <option value="default">معیاری</option>
                                        <option value="tag">ٹیگز کے لحاظ سے</option>
                                    </select>
                                </div>
                            </div>
                            
                            <!-- Tag combo (Re-added for mobile use, hidden on desktop via CSS) -->
                            <div class="control tag-combobox" id="tagBox">
                                <button type="button" id="tagButton" class="btn tag-button control-input-wrapper"> <!-- ADDED CLASS -->
                                    <i class="bi bi-tags"></i>
                                    <span id="tagButtonLabel" class="flex-grow text-right">تمام ٹیگز</span> <!-- ADDED CLASSES -->
                                    <i class="bi bi-chevron-down text-xs"></i>
                                </button>
                                <div id="tagPanel" class="tag-panel hidden" role="listbox" aria-labelledby="tagButton">
                                    <input id="tagSearchInput" class="tag-search" type="text" placeholder="ٹیگز تلاش کریں…" spellcheck="false">
                                    <div class="inner">
                                        <!-- This is now an <a> tag for consistency -->
                                        <a href="#" class="tag-option" data-value="" aria-selected="true">تمام ٹیگز</a>
                                        <!-- options injected by JS -->
                                        <div id="tagOptions"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div id="inlineLoader" class="pill hidden">لوڈ ہو رہا ਹੈ…</div>
                        </div>
                        
                        <!-- Loader -->
                        <div id="loader" class="mb-8 hidden" style="align-items:center; justify-content:center;">
                            لوڈ ہو رہا ہے…
                        </div>
                        
                        <!-- Question List -->
                        <div id="list" class="list">
                            <!-- Existing hardcoded cards remain to show structure -->
                            <a href="/fatwa/2778" class="card-link group">
                                <div class="flex items-center gap-4">
                                    <div class="flex-shrink-0 w-10 h-10 bg-midnight_green text-white rounded-full flex items-center justify-center font-bold text-lg gulzartext">۱</div>
                                    <h3 class="heading">احوال حضرت ابو بکر صدیق رضی اللہ عنہ</h3>
                                </div>
                                <p class="mt-3 mb-4 text-gray-700 line-clamp-3 gulzartext card-excerpt">احوال حضرت ابو بکر صدیق رضی اللہ عنہ</p>
                                <div class="mt-4 flex justify-between items-center text-sm pt-3 border-t border-gray-100">
                                    <span class="bg-[#eaf3df] text-[#4a7031] rounded-full px-4 py-1.5 text-sm font-bold transition-colors group-hover:bg-[#4a7031] group-hover:text-white heading">
                                        مکمل جواب پڑھیں
                                        <i class="fa-solid fa-arrow-left text-xs mr-2 opacity-70 transition-transform group-hover:mr-3"></i>
                                    </span>
                                    <div class="flex items-center text-gray-500 gap-1.5" title="Views">
                                        <i class="bi bi-eye-fill"></i>
                                        <span>6014</span>
                                    </div>
                                </div>
                            </a>
                            <a href="/fatwa/2788" class="card-link group">
                                <div class="flex items-center gap-4">
                                    <div class="flex-shrink-0 w-10 h-10 bg-air_force_blue text-white rounded-full flex items-center justify-center font-bold text-lg gulzartext">۲</div>
                                    <h3 class="heading">اس کرم کا کروں شکر کیسے ادا</h3>
                                </div>
                                <p class="mt-3 mb-4 text-gray-700 line-clamp-3 gulzartext card-excerpt">اس کرم کا کروں شکر کیسے ادا</p>
                                <div class="mt-4 flex justify-between items-center text-sm pt-3 border-t border-gray-100">
                                    <span class="bg-[#eaf3df] text-[#4a7031] rounded-full px-4 py-1.5 text-sm font-bold transition-colors group-hover:bg-[#4a7031] group-hover:text-white heading">
                                        مکمل جواب پڑھیں
                                        <i class="fa-solid fa-arrow-left text-xs mr-2 opacity-70 transition-transform group-hover:mr-3"></i>
                                    </span>
                                    <div class="flex items-center text-gray-500 gap-1.5" title="Views">
                                        <i class="bi bi-eye-fill"></i>
                                        <span>7122</span>
                                    </div>
                                </div>
                            </a>
                            <a href="/fatwa/2781" class="card-link group">
                                <div class="flex items-center gap-4">
                                    <div class="flex-shrink-0 w-10 h-10 bg-midnight_green text-white rounded-full flex items-center justify-center font-bold text-lg gulzartext">۳</div>
                                    <h3 class="heading">جمعہ کی نماز فرض ہے یا نفل ؟ محمد سلمان رضا واحدی امجدی</h3>
                                </div>
                                <p class="mt-3 mb-4 text-gray-700 line-clamp-3 gulzartext card-excerpt">جمعہ کی نماز فرض ہے یا نفل ؟ محمد سلمان رضا واحدی امجدی</p>
                                <div class="mt-4 flex justify-between items-center text-sm pt-3 border-t border-gray-100">
                                    <span class="bg-[#eaf3df] text-[#4a7031] rounded-full px-4 py-1.5 text-sm font-bold transition-colors group-hover:bg-[#4a7031] group-hover:text-white heading">
                                        مکمل جواب پڑھیں
                                        <i class="fa-solid fa-arrow-left text-xs mr-2 opacity-70 transition-transform group-hover:mr-3"></i>
                                    </span>
                                    <div class="flex items-center text-gray-500 gap-1.5" title="Views">
                                        <i class="bi bi-eye-fill"></i>
                                        <span>6377</span>
                                    </div>
                                </div>
                            </a>
                            <a href="/fatwa/2793" class="card-link group">
                                <div class="flex items-center gap-4">
                                    <div class="flex-shrink-0 w-10 h-10 bg-air_force_blue text-white rounded-full flex items-center justify-center font-bold text-lg gulzartext">۴</div>
                                    <h3 class="heading">حاملہ عورت کو جنات کے شر سے محفوظ رکھنے کے لئے اس کے پاس لوہے یا پیتل کی چیز رکھنا کیسا ہے ؟</h3>
                                </div>
                                <p class="mt-3 mb-4 text-gray-700 line-clamp-3 gulzartext card-excerpt">کیا فرماتے ہیں علماء دین و مفتیان شرح متین مسئلہ ذیل میں کہ گورکھپور میں جب کوئی عورت حمل سے ہوتی ہے  تو اسکے پاس کوی لوہے یا پیتل کی چیز کو رکھتے ہیں یا لوہے کا چاقو پہنا دیتے ہیں تاکہ وہ جنات کے شر سے محفوظ رہیں۔ انکا ماننا یہ ہے اس طرح کرنے سے جنات دور رہتے ہیں تو کیا اس طرح نظریہ رکھنا انکا صحیح ہے۔ جواب عنایت فرما کر شکریہ کا موقع دیں ...</p>
                                <div class="mt-4 flex justify-between items-center text-sm pt-3 border-t border-gray-100">
                                    <span class="bg-[#eaf3df] text-[#4a7031] rounded-full px-4 py-1.5 text-sm font-bold transition-colors group-hover:bg-[#4a7031] group-hover:text-white heading">
                                        مکمل جواب پڑھیں
                                        <i class="fa-solid fa-arrow-left text-xs mr-2 opacity-70 transition-transform group-hover:mr-3"></i>
                                    </span>
                                    <div class="flex items-center text-gray-500 gap-1.5" title="Views">
                                        <i class="bi bi-eye-fill"></i>
                                        <span>4</span>
                                    </div>
                                </div>
                            </a>
                            <a href="/fatwa/2828" class="card-link group">
                                <div class="flex items-center gap-4">
                                    <div class="flex-shrink-0 w-10 h-10 bg-midnight_green text-white rounded-full flex items-center justify-center font-bold text-lg gulzartext">۹</div>
                                    <h3 class="heading">غوث پاک نے حضرت عزرائیل سے روح کا تھیلا چھین لیا یہ کہنا کیسا ہے؟</h3>
                                </div>
                                <p class="mt-3 mb-4 text-gray-700 line-clamp-3 gulzartext card-excerpt">کیا فرماتے ہیں اہلِ علم اس بارے میں کچھ کتابوں میں غوث اعظم رضی اللہ تعالی عنہ کی ایک کرامت ل khaki جس کا مضمون کچھ یوں ہے کہ غوث پاک کے ایک خادم کی موت ہو گئی موت ہونے کے بعد ان کی بیوی یا بیٹی غوث اعظم کے پاس آ کر فریاد کی...</p>
                                <div class="mt-4 flex justify-between items-center text-sm pt-3 border-t border-gray-100">
                                    <span class="bg-[#eaf3df] text-[#4a7031] rounded-full px-4 py-1.5 text-sm font-bold transition-colors group-hover:bg-[#4a7031] group-hover:text-white heading">
                                        مکمل جواب پڑھیں
                                        <i class="fa-solid fa-arrow-left text-xs mr-2 opacity-70 transition-transform group-hover:mr-3"></i>
                                    </span>
                                    <div class="flex items-center text-gray-500 gap-1.5" title="Views">
                                        <i class="bi bi-eye-fill"></i>
                                        <span>2</span>
                                    </div>
                                </div>
                            </a>
                            <!-- Add more cards as needed following the pattern above -->
                        </div>
                        
                        <!-- Pagination - Correct RTL Order -->
                        <div class="mt-6 pagination" id="pagination">
                            <button class="page-btn" id="nextPage">اگلا →</button>
                            <div id="pageNumbers" class="inline-flex" style="gap:6px;">
                                <button class="page-btn active">۱</button>
                                <!-- More page numbers can be added here -->
                            </div>
                            <button class="page-btn" id="prevPage" disabled="">← پچھلا</button>
                        </div>
                    </div>

                    <!-- 2. RIGHT SIDEBAR (Sticky on Desktop) -->
                    <aside id="sidebar" class="gulzartext">
                        <h2 class="sidebar-heading">تمام موضوعات</h2>
                        <div id="sidebarTagList">
                            <!-- Tags and Counts will be injected here by JavaScript -->
                        </div>
                    </aside>
                    
                </div>
            </section>
            <!-- === END OF ALL QUESTIONS CONTENT === -->
        </main>
    </div>
    
    <!-- Simple Toast Notification -->
    <div id="toast" class="fixed bottom-24 right-6 bg-gray-800 text-white px-5 py-3 rounded-lg shadow-lg opacity-0 transition-opacity duration-300 z-50">
        Link copied to clipboard!
    </div>

    <!-- Footer -->
    <footer class="bg-[#718e56] text-white mt-16 sm:mt-20 relative z-20"> <!-- Compacted -->
        <div class="max-w-7xl mx-auto px-6 lg:px-8 py-8"> <!-- Compacted -->
            
            <!-- Logo and Socials (Horizontal/Centered) -->
            <div class="flex flex-col items-center">
                <!-- Logo -->
                <a href="index.html" class="flex items-center space-x-3 mb-5"> <!-- Compacted -->
                    <img class="h-12 w-auto bg-white rounded-full p-1" src="https://minaramasjid.com/assets/image/logo/marc.png" alt="Maula Ali Research Center Logo"> <!-- Compacted -->
                    <span class="text-lg font-bold text-white">Maula Ali Research Center</span> <!-- Compacted -->
                </a>
                
                <!-- Social Media Icons -->
                <div class="flex space-x-5"> <!-- Compacted -->
                    <a href="#" class="text-green-200 hover:text-white transition-colors" aria-label="Facebook">
                        <i class="fab fa-facebook-f fa-lg"></i>
                    </a>
                    <a href="#" class="text-green-200 hover:text-white transition-colors" aria-label="Twitter">
                        <i class="fab fa-twitter fa-lg"></i>
                    </a>
                    <a href="#" class="text-green-200 hover:text-white transition-colors" aria-label="Instagram">
                        <i class="fab fa-instagram fa-lg"></i>
                    </a>
                    <a href="#" class="text-green-200 hover:text-white transition-colors" aria-label="LinkedIn">
                        <i class="fab fa-linkedin-in fa-lg"></i>
                    </a>
                </div>
            </div>
            
            <!-- Copyright Bottom Line -->
            <div class="mt-8 pt-5 border-t border-green-400/50 text-center"> <!-- Compacted -->
                 <p class="text-sm text-green-200">
                     &copy; 2024 - 2025 Design and Develop by 
                     <a href='https://www.AlQalamArts.com/' target="_blank" rel="noopener noreferrer" class="font-medium text-white hover:text-green-100">
                         www.AlQalamArts.com
                     </a>
                 </p>
            </div>
        </div>
    </footer>

    <!-- Back To Top Button -->
    <button id="backToTopBtn" class="fixed bottom-6 right-6 bg-[#4a7031] hover:bg-[#3b5a28] text-white w-10 h-10 rounded-full shadow-lg hidden justify-center items-center transition-all duration-300 opacity-0 z-40"> <!-- Compacted -->
        <i class="fas fa-arrow-up"></i>
    </button>
    
    <!-- Inline JavaScript -->
    <script type="module">
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Tag Data (used for both sidebar and combobox) ---
            const allTags = [
                { name: "اصلاح معاشرہ", value: "اصلاح-معاشرہ", count: 45 },
                { name: "اعتراضات مع جوابات", value: "اعتراضات-مع-جوابات", count: 12 },
                { name: "ترجمہ و تفسیر", value: "ترجمہ-و-تفسیر", count: 28 },
                { name: "تفسیر قرآن", value: "تفسیر-قرآن", count: 15 },
                { name: "حج و عمرہ", value: "حج-و-عمرہ", count: 33 },
                { name: "حدیث", value: "حدیث", count: 21 },
                { name: "خرید و فروخت", value: "خرید-و-فروخت", count: 9 },
                { name: "رسم و رواج", value: "رسم-و-رواج", count: 18 },
                { name: "روزہ کے مسائل", value: "روزہ-کے-مسائل", count: 55 },
                { name: "زکوۃ کے مسائل", value: "زکوۃ-کے-مسائل", count: 48 },
                { name: "زکوۃ و صدقہ", value: "زکوۃ-و-صدقہ", count: 37 },
                { name: "سیرت و سوانح", value: "سیرت-و-سوانح", count: 11 },
                { name: "صحابہ و تابعین", value: "صحابہ-و-تابعین", count: 14 },
                { name: "صلوۃ و سلام", value: "صلوۃ-و-سلام", count: 62 },
                { name: "طہارت", value: "طہارت", count: 25 },
                { name: "عقیدۂ اہل سنت", value: "عقیدۂ-اہل-سنت", count: 78 },
                { name: "قرآن مقدس", value: "قرآن-مقدس", count: 19 },
                { name: "متفرقات", value: "uncategorized", count: 88 },
                { name: "معمولات اہل سنت", value: "معمولات-اہل-sنت", count: 41 },
                { name: "منظومات", value: "منظومات", count: 6 },
                { name: "نذر و نیاز", value: "نذر-و-نیاز", count: 22 },
                { name: "نکاح و طلاق", value: "نکاح-و-طلاق", count: 51 },
                { name: "نماز کے مسائل", value: "نماز-کے-مسائل", count: 95 },
                { name: "والدین کے حقوق", value: "والدین-کے-حقوق", count: 17 }
            ];
            
            const tagOptionsContainer = document.getElementById('tagOptions');
            const sidebarTagList = document.getElementById('sidebarTagList');
            
            // Function to render tags into a container
            const renderTags = (container, isSidebar = false) => {
                let html = '';
                allTags.forEach(tag => {
                    const classes = isSidebar ? 'tag-list-item' : 'tag-option';
                    // MODIFIED: Always show the count
                    const countSpan = `<span class="tag-count">${tag.count}</span>`;
                    // UPDATED: Now always an <a> tag for semantic consistency
                    html += `
                        <a href="#" class="${classes}" data-value="${tag.value}">
                            <span>${tag.name}</span>
                            ${countSpan}
                        </a>
                    `;
                });
                container.innerHTML = html;
            };

            // Inject into both locations
            if (sidebarTagList) {
                // Render the main sidebar list
                renderTags(sidebarTagList, true);
                
                // Add an "All Tags" option at the top of the sidebar for filtering
                sidebarTagList.insertAdjacentHTML('afterbegin', `
                    <a href="#" class="tag-list-item font-bold bg-[#e8f0e0] text-[#4a7031] mb-2" data-value="">
                        <span>تمام ٹیگز</span>
                        <i class="bi bi-tag-fill"></i>
                    </a>
                `);

                // Add event listener for sidebar filtering
                sidebarTagList.addEventListener('click', (e) => {
                    let target = e.target.closest('.tag-list-item');
                    if (target) {
                        e.preventDefault();
                        // Logic to apply filter (currently just shows the selected tag)
                        document.getElementById('tagButtonLabel').textContent = target.querySelector('span').textContent;
                        // Mock filter action:
                        console.log(`Filtering by tag: ${target.dataset.value}`);

                        // Update sidebar active state
                        document.querySelectorAll('#sidebarTagList .tag-list-item').forEach(item => {
                            item.classList.remove('font-bold', 'bg-[#e8f0e0]', 'text-[#4a7031]');
                        });
                        target.classList.add('font-bold', 'bg-[#e8f0e0]', 'text-[#4a7031]');
                    }
                });
            }
            
            if (tagOptionsContainer) {
                // Render the tag combobox options
                renderTags(tagOptionsContainer, false);
            }
            // --- End Tag Data Logic ---
            

            // --- Mobile Menu Toggle ---
            const mobileMenuButton = document.getElementById('mobile-menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', () => {
                    mobileMenu.classList.toggle('mobile-menu-hidden');
                    mobileMenu.classList.toggle('mobile-menu-visible');
                });
            }
            
            // --- Back To Top Button ---
            const backToTopBtn = document.getElementById('backToTopBtn');
            if (backToTopBtn) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) {
                        backToTopBtn.classList.remove('hidden');
                        backToTopBtn.classList.add('flex');
                        backToTopBtn.classList.remove('opacity-0');
                    } else {
                        backToTopBtn.classList.add('opacity-0');
                        setTimeout(() => {
                            if (window.scrollY <= 300) {
                                backToTopBtn.classList.add('hidden');
                                backToTopBtn.classList.remove('flex');
                            }
                        }, 300);
                    }
                });
                
                backToTopBtn.addEventListener('click', () => {
                    window.scrollTo({ top: 0, behavior: 'smooth' });
                });
            }
            
            // --- Tag Combobox Logic (Re-added for mobile use) ---
            const tagBox = document.getElementById('tagBox');
            if (tagBox) {
                const tagButton = document.getElementById('tagButton');
                const tagPanel = document.getElementById('tagPanel');
                const tagSearchInput = document.getElementById('tagSearchInput');
                const allTagOptions = Array.from(tagOptionsContainer.querySelectorAll('.tag-option'));
                const tagButtonLabel = document.getElementById('tagButtonLabel');
                
                // Toggle panel
                tagButton.addEventListener('click', (e) => {
                    e.stopPropagation();
                    const isHidden = tagPanel.classList.toggle('hidden');
                    if (!isHidden) {
                        tagSearchInput.focus();
                        // Reset search
                        tagSearchInput.value = '';
                        // Need to re-query all options including dynamic ones
                        tagPanel.querySelectorAll('.tag-option').forEach(opt => opt.style.display = '');
                    }
                });
                
                // Close on click outside
                document.addEventListener('click', (e) => {
                    if (!tagBox.contains(e.target)) {
                        tagPanel.classList.add('hidden');
                    }
                });
                
                // Handle option selection from the dynamic container
                tagPanel.addEventListener('click', (e) => {
                    // Use .closest() to robustly find the <a> tag
                    let target = e.target.closest('.tag-option');
                    if (target) {
                        e.preventDefault(); // Add preventDefault since it's an <a> tag
                        
                        // Update styles
                        // First, update all options
                        tagPanel.querySelectorAll('.tag-option').forEach(opt => {
                            opt.setAttribute('aria-selected', 'false');
                        });
                        // Then set the clicked one to active
                        target.setAttribute('aria-selected', 'true');
                        
                        // Update button label
                        tagButtonLabel.textContent = target.querySelector('span').textContent;
                        // Close panel
                        tagPanel.classList.add('hidden');
                        
                        // You would typically fire off a search/filter function here
                        // e.g., filterQuestionsByTag(target.dataset.value);
                        console.log(`Filtering by tag (combobox): ${target.dataset.value}`);

                        // Sync with sidebar
                        document.querySelectorAll('#sidebarTagList .tag-list-item').forEach(item => {
                            item.classList.remove('font-bold', 'bg-[#e8f0e0]', 'text-[#4a7031]');
                            if(item.dataset.value === target.dataset.value) {
                                item.classList.add('font-bold', 'bg-[#e8f0e0]', 'text-[#4a7031]');
                            }
                        });
                    }
                });
                
                // Handle search filtering
                tagSearchInput.addEventListener('input', () => {
                    const searchTerm = tagSearchInput.value.toLowerCase();
                    // UPDATED: Now queries all .tag-option elements, including "All Tags"
                    const allOptionsInPanel = tagPanel.querySelectorAll('.tag-option');
                    allOptionsInPanel.forEach(option => {
                        // Don't filter the "All Tags" button
                        if (option.dataset.value === "") {
                            return;
                        }
                        const text = option.textContent.toLowerCase();
                        if (text.includes(searchTerm)) {
                            option.style.display = '';
                        } else {
                            option.style.display = 'none';
                        }
                    });
                });

                // Listen to sidebar clicks and update the mobile button
                if (sidebarTagList) {
                    sidebarTagList.addEventListener('click', (e) => {
                         let target = e.target.closest('.tag-list-item');
                         if (target) {
                            // Update button label
                            tagButtonLabel.textContent = target.querySelector('span').textContent;
                            // Update combobox active state
                            tagPanel.querySelectorAll('.tag-option').forEach(opt => {
                                opt.setAttribute('aria-selected', 'false');
                                if(opt.dataset.value === target.dataset.value) {
                                    opt.setAttribute('aria-selected', 'true');
                                }
                            });
                         }
                    });
                }
            }
        });
    </script>
</body>
</html>
