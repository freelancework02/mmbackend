var parameter, 
gA = 0, gB = atob("bW51dS5udQ=="), gD = !1, gP = ["checking video", "extracting video", "converting video"], gR = !1; function create(e) { return window.document.createElement(e) } function id(e) { return window.document.getElementById(e) } function select(e) { return window.document.querySelectorAll(e) } function getTimestamp() { return Math.floor((new Date).getTime() / 1e3) } function decodeBin(e) { for (var t = [], e = e.split(" "), r = 0; r < e.length; r++)t.push(parseInt(e[r], 2)); return t } function decodeHex(e) { for (var t = e.match(/0x[a-fA-F0-9]{2}/g), r = "", o = 0; o < t.length; o++)r += String.fromCharCode(t[o]); return r } function authorization() { for (var e = decodeBin(gC.d(1)[0]), t = "", r = 0; r < e.length; r++)t += (0 < gC.d(2)[0] ? atob(gC.d(1)[1]).split("").reverse().join("") : atob(gC.d(1)[1]))[e[r] - gC.d(2)[1]]; switch (0 < gC.d(2)[2] && (t = t.substring(0, gC.d(2)[2])), gC.d(2)[3]) { case 0: return btoa(t + "_" + decodeHex(gC.d(3)[0])); case 1: return btoa(t.toLowerCase() + "_" + decodeHex(gC.d(3)[0])); case 2: return btoa(t.toUpperCase() + "_" + decodeHex(gC.d(3)[0])) } } function replaceURL(e, t) { return e = e.replace("https://", "").split(atob("L2FwaS92MS8=") + t), "init" != t ? "/." + t.substr(0, 1) + "/" + e[0].split(".")[0] + "/" + e[1] : "/." + t.substr(0, 1) + "/" + e[1] } function report(e, t, r) { var o = gR ? 1 : 0, s = new XMLHttpRequest; s.open("GET", "/report.php?p=" + e + "&s=" + t + "&r=" + o + "&v=" + r), s.send() } function update(e) { select("form span")[0].innerHTML = e } function api(e, t, r, o) { r || (gA = 1, r = !0, update("restarting conversion")); var s = new XMLHttpRequest; s.onreadystatechange = function () { if (4 == this.readyState) if (200 === this.status) switch (this.response.progress) { case "completed": 0 < this.response.title.length && (select("form div:first-of-type")[0].innerHTML = this.response.title), gR = !1, download(this.response.url, t, "mp3", !1); break; case "converting": update(gP[1]), o++, window.setTimeout(function () { api(e, t, r, o) }, 2e4); break; case "error": error(3, e, t, "mp3", !1) } else report("api", this.status, t), error(0, 4, !1, !1, !1) }, s.open("GET", "/.r/?a=" + encodeURIComponent(authorization()) + "&r=" + o + "&v=" + t + "&t=" + getTimestamp()), s.responseType = "json", s.send() } function error(e, t, r, o, s) { if (3 == e && !/^245$/.test(t) && "mp4" != o && s) return api(t, r, !1, 1), !1; var n = ["Invalid video URL", "Invalid format", "Unauthorized request", "IP blacklisted (24 hours)", "Connection error. Please clear your SSL Cache and try again", "Backend error", "Video on blacklist", "Video type livestream", "Video length (>30 mins)"], i = ""; switch (e) { case 0: i = n[t]; break; case 1: i = n[5]; break; case 2: i = 12 == t ? n[6] : n[5]; break; case 3: i = 214 == t ? n[7] : 215 == t ? n[8] : n[5] }select("form div:first-of-type")[0].style.textAlign = "center", select("form div:first-of-type")[0].innerHTML = "Error: " + i + ". Code: " + e + "(" + t + ")."; e = create("button"); return e.innerText = "Back", e.onclick = function () { window.location.href = "/" }, e.type = "button", select("form div:last-of-type")[0].style.justifyContent = "center", select("form div:last-of-type")[0].id = "", select("form div:last-of-type")[0].innerHTML = "", select("form div:last-of-type")[0].append(e), !1 } function download(e, t, r, o) { var s = e; gR && (s = replaceURL(s, "download")), o && (select("form div:first-of-type")[0].innerHTML = o); o = []; o[0] = create("button"), o[0].innerText = "Download", o[0].onclick = function () { gD || (gD = !0, window.open("https://" + gB + "/" + gA + "/")), window.location.href = s + "&s=3&v=" + t + "&f=" + r }, o[0].type = "button", o[1] = create("button"), o[1].innerText = "Next", o[1].onclick = function () { window.location.href = "/" }, o[1].type = "button", select("form div:last-of-type")[0].style.justifyContent = "center", select("form div:last-of-type")[0].id = "", select("form div:last-of-type")[0].innerHTML = "", select("form div:last-of-type")[0].append(o[0], o[1]) } function cProgress(e, t, r, o, s, n) { switch (n) { case 0: update(gP[0]); break; case +gC.d(0)[2]: select("form div:first-of-type")[0].innerHTML = s, update(gP[1]); break; case 2 * gC.d(0)[2]: update(gP[2]) }n < gC.d(0)[1] ? (n++, window.setTimeout(function () { cProgress(e, t, r, o, s, n) }, 3e3)) : download(t, r, o, !1) } function progress(e, t, r, o, s, n) { n || update(gP[0]); var i = new XMLHttpRequest; i.onreadystatechange = function () { if (4 == this.readyState) switch (this.status) { case 200: 0 < this.response.error ? error(3, this.response.error, r, o, !0) : (0 < this.response.title.length && !s && (s = !0, select("form div:first-of-type")[0].innerHTML = this.response.title), this.response.progress != n && (n = this.response.progress, update(gP[n])), this.response.progress < 3 ? window.setTimeout(function () { progress(e, t, r, o, s, n) }, 3e3) : download(t, r, o, !1)); break; case 429: error(0, 3, !1, !1, !1); break; default: report("progress", this.status, r), error(0, 4, !1, !1, !1) } }; var a = e + "&t=" + getTimestamp(); gR && (a = replaceURL(a, "progress")), i.open("GET", a), i.responseType = "json", i.send() } function convert(e, t, r, o) { var s = new XMLHttpRequest; s.onreadystatechange = function () { if (4 == this.readyState) switch (this.status) { case 200: 0 < this.response.error ? /^215|243|244|245$/.test(this.response.error) ? error(3, this.response.error, t, r, !0) : error(2, this.response.error, t, r, !1) : 1 == o ? 1 == gC.d(0)[0] ? cProgress(this.response.progressURL, this.response.downloadURL, t, r, this.response.title, 0) : download(this.response.downloadURL, t, r, this.response.title) : 1 == this.response.redirect ? convert(this.response.redirectURL, t, r, 1) : progress(this.response.progressURL, this.response.downloadURL, t, r, !1, !1); break; case 429: error(0, 3, !1, !1, !1); break; default: report("convert", this.status, t), error(0, 4, !1, !1, !1, t) } }, -1 < e.indexOf("&v=") && (e = e.split("&v=")[0]); e = e + "&v=" + t + "&f=" + r + "&t=" + getTimestamp(); gR && (e = replaceURL(e, "convert")), s.open("GET", e), s.responseType = "json", s.send() } function initialize(e, t) { /android 10|iphone os/.test(navigator.userAgent.toLowerCase()) && (gR = !0); var r = new XMLHttpRequest; r.onreadystatechange = function () { if (4 == this.readyState) switch (this.status) { case 200: 0 < this.response.error ? error(1, this.response.error, e, t, !1) : convert(this.response.convertURL, e, t, 0); break; case 403: error(0, 2, !1, !1, !1); break; case 429: error(0, 3, !1, !1, !1); break; default: gR ? (report("fallback", this.status, e), error(0, 4, !1, !1, !1)) : (gR = !0, initialize(e, t)) } }; var o = "https://www1." + gB + "/api/v1/init?" + decodeHex(gC.d(3)[1]) + "=" + encodeURIComponent(authorization()) + "&t=" + getTimestamp(); gR && (o = replaceURL(o, "init")), r.open("GET", o), r.responseType = "json", r.send() } function prepare() { try { var e = create("script"); e.setAttribute("async", "true"), e.setAttribute("data-cfasync", "false"), e.setAttribute("src", atob("aHR0cHM6Ly9lZWNoaWNoYS5jb20vYWN0L2ZpbGVzL3RhZy5taW4uanM/ej05NDU0MTIx")), window.document.body.append(e) } catch (e) { } var t = id("v").value.trim(), r = id("f").innerText.toLowerCase(), o = !1; if (-1 < t.indexOf("youtu.be") ? o = /\/([a-zA-Z0-9\-\_]{11})/.exec(t) : -1 < t.indexOf("youtube.com") && (o = (-1 < t.indexOf("/shorts/") ? /\/([a-zA-Z0-9\-\_]{11})/ : /v\=([a-zA-Z0-9\-\_]{11})/).exec(t)), !o || null == o) return error(0, 0, !1, !1, !1); if (!/mp[34]{1}/.test(r)) return error(0, 1, !1, !1, !1); t = create("span"); t.innerHTML = "initializing", select("form div:last-of-type")[0].id = "progress", select("form div:last-of-type")[0].innerHTML = "", select("form div:last-of-type")[0].append(t, create("i")), initialize(o[1], r) } id("f").addEventListener("click", function () { "MP3" == this.innerText ? this.innerText = "MP4" : "MP4" == this.innerText && (this.innerText = "MP3") }), window.document.forms[0].addEventListener("submit", function (e) { e.preventDefault(), prepare() }), window.location.hash && (parameter = window.location.hash.split("#")[1], /[a-zA-Z0-9\-\_]{11}/.test(parameter) ? (gA = 1, id("v").value = "https://www.youtube.com/watch?v=" + parameter, prepare()) : window.location.href = "/");